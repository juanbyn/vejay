var common,__decorate=this&&this.__decorate||function(t,e,i,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var h=t.length-1;0<=h;h--)(s=t[h])&&(a=(r<3?s(a):3<r?s(e,i,a):s(e,i))||a);return 3<r&&a&&Object.defineProperty(e,i,a),a},__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),_createClass=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}!function(t){var e=[],i=function(){function s(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;_classCallCheck(this,s),this.x=t,this.y=e,this.width=i,this.height=n}return _createClass(s,[{key:"copyFrom",value:function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}},{key:"setTo",value:function(t,e,i,n){return this.x=t,this.y=e,this.width=i,this.height=n,this}},{key:"contains",value:function(t,e){return this.x<=t&&this.x+this.width>=t&&this.y<=e&&this.y+this.height>=e}},{key:"intersection",value:function(t){return this.clone().$intersectInPlace(t)}},{key:"inflate",value:function(t,e){this.x-=t,this.width+=2*t,this.y-=e,this.height+=2*e}},{key:"$intersectInPlace",value:function(t){var e=this.x,i=this.y,n=t.x,s=t.y,r=Math.max(e,n),a=Math.min(e+this.width,n+t.width);if(r<=a){var h=Math.max(i,s),o=Math.min(i+this.height,s+t.height);if(h<=o)return this.setTo(r,h,a-r,o-h),this}return this.setEmpty(),this}},{key:"intersects",value:function(t){return Math.max(this.x,t.x)<=Math.min(this.right,t.right)&&Math.max(this.y,t.y)<=Math.min(this.bottom,t.bottom)}},{key:"isEmpty",value:function(){return this.width<=0||this.height<=0}},{key:"setEmpty",value:function(){this.x=0,this.y=0,this.width=0,this.height=0}},{key:"clone",value:function(){return new s(this.x,this.y,this.width,this.height)}},{key:"containsPoint",value:function(t){return this.x<=t.x&&this.x+this.width>t.x&&this.y<=t.y&&this.y+this.height>t.y}},{key:"containsRect",value:function(t){var e=t.x+t.width,i=t.y+t.height,n=this.x+this.width,s=this.y+this.height;return t.x>=this.x&&t.x<n&&t.y>=this.y&&t.y<s&&e>this.x&&e<=n&&i>this.y&&i<=s}},{key:"equals",value:function(t){return this===t||this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height}},{key:"inflatePoint",value:function(t){this.inflate(t.x,t.y)}},{key:"offset",value:function(t,e){this.x+=t,this.y+=e}},{key:"offsetPoint",value:function(t){this.offset(t.x,t.y)}},{key:"toString",value:function(){return"(x="+this.x+", y="+this.y+", width="+this.width+", height="+this.height+")"}},{key:"union",value:function(t){var e=this.clone();if(t.isEmpty())return e;if(e.isEmpty())return e.copyFrom(t),e;var i=Math.min(e.x,t.x),n=Math.min(e.y,t.y);return e.setTo(i,n,Math.max(e.right,t.right)-i,Math.max(e.bottom,t.bottom)-n),e}},{key:"$getBaseWidth",value:function(t){var e=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t));return e*this.width+i*this.height}},{key:"$getBaseHeight",value:function(t){var e=Math.abs(Math.cos(t));return Math.abs(Math.sin(t))*this.width+e*this.height}},{key:"right",get:function(){return this.x+this.width},set:function(t){this.width=t-this.x}},{key:"bottom",get:function(){return this.y+this.height},set:function(t){this.height=t-this.y}},{key:"left",get:function(){return this.x},set:function(t){this.width+=this.x-t,this.x=t}},{key:"top",get:function(){return this.y},set:function(t){this.height+=this.y-t,this.y=t}},{key:"topLeft",get:function(){return new t.Point(this.left,this.top)},set:function(t){this.top=t.y,this.left=t.x}},{key:"bottomRight",get:function(){return new t.Point(this.right,this.bottom)},set:function(t){this.bottom=t.y,this.right=t.x}}],[{key:"release",value:function(t){t&&e.push(t)}},{key:"create",value:function(){var t=e.pop();return t||(t=new s),t}}]),s}();t.Rectangle=i,t.$TempRectangle=new i}(math||(math={})),function(o){var i=math.Rectangle,t=function(t){function e(){_classCallCheck(this,e);var t=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._x=0,t._y=0,t._scaleX=1,t._scaleY=1,t.pivotX=0,t.pivotY=0,t._viewport=new i,t}return _inherits(e,o.DisplayObjectContainer),_createClass(e,[{key:"pos",value:function(t,e){this._x===t&&this._y===e||(this._x=t,this._y=e,this.posChange=!0)}},{key:"scale",value:function(t,e){this._scaleX===t&&this._scaleY===e||(this._scaleX=t,this._scaleY=e,this.scaleChange=!0)}},{key:"render",value:function(t,e){var i=this.width*Math.abs(this.scaleX),n=this.height*Math.abs(this.scaleY),s=t+this.x-this.pivotX*i,r=e+this.y-this.pivotY*n;if(this.scaleX<0&&(s+=i),this.scaleY<0&&(r+=n),this._viewport.setTo(s,r,i,n),o.Stage.viewport.containsRect(this._viewport)){this.renderSelf();for(var a=this.children.length,h=0;h<a;h++){this.children[h].asDisplayObject.render(this.x+t,this.y+e)}}}},{key:"renderSelf",value:function(){}},{key:"globalX",get:function(){return this._viewport.x}},{key:"globalY",get:function(){return this._viewport.y}},{key:"x",get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.posChange=!0)}},{key:"y",get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.posChange=!0)}},{key:"scaleY",get:function(){return this._scaleY},set:function(t){this._scaleY!==t&&(this._scaleY=t,this.scaleChange=!0)}},{key:"scaleX",get:function(){return this._scaleX},set:function(t){this._scaleX!==t&&(this._scaleX=t,this.scaleChange=!0)}}]),e}();o.DisplayObject=t}(display||(display={})),function(t){var i=core.EventDispatcher,e=function(t){function e(){_classCallCheck(this,e);var t=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._children=[],t}return _inherits(e,i),_createClass(e,[{key:"addChild",value:function(t){(t.parent=this)._children.push(t)}},{key:"removeChild",value:function(t){var e=this.parent.getIndex(t);this.parent.removeChildAt(e)}},{key:"removeChildAt",value:function(t){if(0<=t&&t<this._children.length){var e=this._children[t];return e.parent=null,this._children.splice(t,1),e}throw new RangeError("Invalid child index")}},{key:"getIndex",value:function(t){return this._children.indexOf(t)}},{key:"removeAll",value:function(){this._children.length=0}},{key:"removeSelf",value:function(){this.parent.removeChild(this)}},{key:"numChildren",get:function(){return this._children.length}},{key:"children",get:function(){return this._children}},{key:"asDisplayObject",get:function(){return this}}]),e}();t.DisplayObjectContainer=e}(display||(display={})),function(i){var n=math.Rectangle,s=common.GlobalData,t=function(t){function e(){_classCallCheck(this,e);var t=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.x=.5*(s.ScreenWidth-s.StageWidth),t.y=.5*(s.ScreenHeight-s.StageHeight),t.width=s.StageWidth,t.height=s.StageHeight,e.viewport=new n(t.x,t.y,t.width,t.height),t}return _inherits(e,i.DisplayObject),_createClass(e,null,[{key:"instance",value:function(){return e._instance||(this._instance=new e),this._instance}}]),e}();i.Stage=t}(display||(display={})),function(t){var e=function(){function t(){_classCallCheck(this,t),this._obj={}}return _createClass(t,[{key:"set",value:function(t,e){this._obj[t]=e}},{key:"get",value:function(t){var e=this._obj[t];return void 0!==e?e:null}},{key:"has",value:function(t){return this._obj.hasOwnProperty(t)}},{key:"remove",value:function(t){delete this._obj[t]}},{key:"clear",value:function(){this._obj={}}},{key:"keys",get:function(){var t=[];for(var e in this._obj)t.push(e);return t}},{key:"values",get:function(){var t=[],e=!0,i=!1,n=void 0;try{for(var s,r=this._obj[Symbol.iterator]();!(e=(s=r.next()).done);e=!0){var a=s.value;t.push(a)}}catch(t){i=!0,n=t}finally{try{!e&&r.return&&r.return()}finally{if(i)throw n}}return t}}]),t}();t.Dictionary=e}(core||(core={})),function(t){var e=function(){function h(){_classCallCheck(this,h)}return _createClass(h,[{key:"addEventListener",value:function(t,e,i,n){var s=4<arguments.length&&void 0!==arguments[4]&&arguments[4],r=h._list.get(t);r||(r=[]);for(var a=0;a<r.length;a++)if(i===r[a][1])return;r.push([e,i,n,s])}},{key:"removeEventListener",value:function(t,e,i){for(var n=h._list.get(t),s=0;s<n.length;s++)if(i===n[s][1])return void n.splice(s,1)}},{key:"removeEventListeners",value:function(t){h._list.remove(t)}}],[{key:"dispatch",value:function(t){for(var e,i,n,s,r=this._list.get(t),a=0;a<r.length;a++)i=(e=r[a])[0],n=e[1],s=e[2],n.apply(i,s),e[3]&&r.splice(a--,1)}}]),h}();e._list=new t.Dictionary,t.EventDispatcher=e}(core||(core={})),function(t){var e,i;e=t.base||(t.base={}),i=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"clone",value:function(){return t.copy(this,new t)}}],[{key:"copy",value:function(t,e){for(var i in t)e[i]=t[i];return e}}]),t}(),e.Vo=i}(core||(core={})),function(t){var e=function(){function t(){_classCallCheck(this,t),t._instance?console.error("get instance instead of new"):(this.ctx0=GlobalData.Ctx0,this.ctx1=GlobalData.Ctx1)}return _createClass(t,[{key:"scale",value:function(t,e){}}],[{key:"instance",get:function(){return this._instance||(this._instance=new t),this._instance}}]),t}();t.RenderContext=e}(display||(display={})),function(t){var e=function t(){_classCallCheck(this,t)};e.CtxType=0,t.GlobalData=e}(common||(common={}));var manager,math,GlobalData=common.GlobalData,Font=core.base.Font;function init(t,e,i,n){GlobalData.StageWidth=t,GlobalData.ScreenHeight=e,GlobalData.ScreenWidth=i||t,GlobalData.ScreenHeight=n||e,new core.base.Init}function setFont(t){Font.instance.setFont(t)}!function(t){var e=function(){function a(){_classCallCheck(this,a)}return _createClass(a,null,[{key:"start",value:function(){if(void 0===a._fps){a._spf=1e3/(a._fps=60);for(var t=0;t<3;t++)a._processList[t]={},a._priorityTime[t]=1e3/(24-24*t/3);a._frameCount=0,a._lastFrameTimestamp=Date.now(),window.requestAnimationFrame(a.onEnterFrame.bind(this))}}},{key:"add",value:function(t,e,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:a.NORMAL;if(void 0!==a._processList[n][t])throw new Error("已经注册过process");a._processList[n][t]=e.bind(i)}},{key:"remove",value:function(t){for(var e=0;e<a._processList.length;e++)if(void 0!==a._processList[e][t]){delete a._processList[e][t];break}}},{key:"onEnterFrame",value:function(){var t=Date.now(),e=t-a._lastFrameTimestamp;a._time+=e*a.frameRate,a._serverTime+=e,a._frameCount++,a.process(e,e,1),a._currentFrameTime=Date.now()-a._lastFrameTimestamp,a._lastFrameTimestamp=t,window.requestAnimationFrame(a.onEnterFrame.bind(this))}},{key:"process",value:function(t,e,i){for(var n in a._deltaTime=e,a._processList[a.REAL_TIME])a.callbackHandler(a._processList[a.REAL_TIME][n],e);for(var s=a.NORMAL;a.IDLE<=s;--s)if(!(t>a._priorityTime[s]&&i<=1))for(var r in a._processList[s])a.callbackHandler(a._processList[s][r],e)}},{key:"callbackHandler",value:function(t,e){if(0==t.length)t();else if(1==t.length)t(e);else{if(2!=t.length)throw new Error;t(a._time,e)}}},{key:"time",get:function(){return a._time}}]),a}();e.REAL_TIME=2,e.NORMAL=1,e.IDLE=0,e.frameRate=1,e._deltaTime=0,e._isInterpolation=!1,e._processList=[],e._priorityTime=[],e._lastFrameTimestamp=0,e._time=0,e._serverTime=0,e.SAMPLE_COUNT=10,e._frameAvgScoreIndex=0,e._frameAvgScore=[],t.FrameManager=e}(manager||(manager={})),function(t){var e=Math.PI,c=e/180,i=[],n=function(){function a(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,r=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0;_classCallCheck(this,a),this.a=t,this.b=e,this.c=i,this.d=n,this.tx=s,this.ty=r}return _createClass(a,[{key:"clone",value:function(){return new a(this.a,this.b,this.c,this.d,this.tx,this.ty)}},{key:"concat",value:function(t){var e=this.a*t.a,i=0,n=0,s=this.d*t.d,r=this.tx*t.a+t.tx,a=this.ty*t.d+t.ty;0===this.b&&0===this.c&&0===t.b&&0===t.c||(e+=this.b*t.c,s+=this.c*t.b,i+=this.a*t.b+this.b*t.d,n+=this.c*t.a+this.d*t.c,r+=this.ty*t.c,a+=this.tx*t.b),this.a=e,this.b=i,this.c=n,this.d=s,this.tx=r,this.ty=a}},{key:"copyFrom",value:function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this}},{key:"identity",value:function(){this.a=this.d=1,this.b=this.c=this.tx=this.ty=0}},{key:"invert",value:function(){this.$invertInto(this)}},{key:"$invertInto",value:function(t){var e=this.a,i=this.b,n=this.c,s=this.d,r=this.tx,a=this.ty;if(0==i&&0==n)return t.b=t.c=0,void(0==e||0==s?t.a=t.d=t.tx=t.ty=0:(e=t.a=1/e,s=t.d=1/s,t.tx=-e*r,t.ty=-s*a));var h=e*s-i*n;if(0!=h){h=1/h;var o=t.a=s*h;i=t.b=-i*h,n=t.c=-n*h,s=t.d=e*h,t.tx=-(o*r+n*a),t.ty=-(i*r+s*a)}else t.identity()}},{key:"rotate",value:function(t){if(0!==(t=+t)){t/=c;var e=Math.cos(t),i=Math.sin(t),n=this.a,s=this.b,r=this.c,a=this.d,h=this.tx,o=this.ty;this.a=n*e-s*i,this.b=n*i+s*e,this.c=r*e-a*i,this.d=r*i+a*e,this.tx=h*e-o*i,this.ty=h*i+o*e}}},{key:"scale",value:function(t,e){1!==t&&(this.a*=t,this.c*=t,this.tx*=t),1!==e&&(this.b*=e,this.d*=e,this.ty*=e)}},{key:"setTo",value:function(t,e,i,n,s,r){return this.a=t,this.b=e,this.c=i,this.d=n,this.tx=s,this.ty=r,this}},{key:"translate",value:function(t,e){this.tx+=t,this.ty+=e}},{key:"equals",value:function(t){return this.a==t.a&&this.b==t.b&&this.c==t.c&&this.d==t.d&&this.tx==t.tx&&this.ty==t.ty}},{key:"prepend",value:function(t,e,i,n,s,r){var a=this.tx;if(1!=t||0!=e||0!=i||1!=n){var h=this.a,o=this.c;this.a=h*t+this.b*i,this.b=h*e+this.b*n,this.c=o*t+this.d*i,this.d=o*e+this.d*n}return this.tx=a*t+this.ty*i+s,this.ty=a*e+this.ty*n+r,this}},{key:"append",value:function(t,e,i,n,s,r){var a=this.a,h=this.b,o=this.c,c=this.d;return 1==t&&0==e&&0==i&&1==n||(this.a=t*a+e*o,this.b=t*h+e*c,this.c=i*a+n*o,this.d=i*h+n*c),this.tx=s*a+r*o+this.tx,this.ty=s*h+r*c+this.ty,this}},{key:"toString",value:function(){return"(a="+this.a+", b="+this.b+", c="+this.c+", d="+this.d+", tx="+this.tx+", ty="+this.ty+")"}},{key:"getDeterminant",value:function(){return this.a*this.d-this.b*this.c}},{key:"$getScaleX",value:function(){var t=this;if(1==t.a&&0==t.b)return 1;var e=Math.sqrt(t.a*t.a+t.b*t.b);return this.getDeterminant()<0?-e:e}},{key:"$getScaleY",value:function(){var t=this;if(0==t.c&&1==t.d)return 1;var e=Math.sqrt(t.c*t.c+t.d*t.d);return this.getDeterminant()<0?-e:e}},{key:"$getSkewX",value:function(){return Math.atan2(this.d,this.c)-e/2}},{key:"$getSkewY",value:function(){return Math.atan2(this.b,this.a)}}],[{key:"release",value:function(t){t&&i.push(t)}},{key:"create",value:function(){var t=i.pop();return t||(t=new a),t}}]),a}();t.Matrix=n,t.$TempMatrix=new n}(math||(math={})),function(i){var n=[],r=Math.PI/180,t=function(){function s(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,s),this.x=t,this.y=e}return _createClass(s,[{key:"setTo",value:function(t,e){return this.x=t,this.y=e,this}},{key:"clone",value:function(){return new s(this.x,this.y)}},{key:"equals",value:function(t){return this.x==t.x&&this.y==t.y}},{key:"copyFrom",value:function(t){this.x=t.x,this.y=t.y}},{key:"add",value:function(t){return new s(this.x+t.x,this.y+t.y)}},{key:"normalize",value:function(t){if(0!=this.x||0!=this.y){var e=t/this.length;this.x*=e,this.y*=e}}},{key:"offset",value:function(t,e){this.x+=t,this.y+=e}},{key:"subtract",value:function(t){return new s(this.x-t.x,this.y-t.y)}},{key:"toString",value:function(){return"(x="+this.x+", y="+this.y+")"}},{key:"length",get:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}}],[{key:"release",value:function(t){t&&n.push(t)}},{key:"create",value:function(t,e){var i=n.pop();return i||(i=new s),i.setTo(t,e)}},{key:"distance",value:function(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))}},{key:"interpolate",value:function(t,e,i){var n=1-i;return new s(t.x*i+e.x*n,t.y*i+e.y*n)}},{key:"polar",value:function(t,e){return new s(t*i.NumberUtils.cos(e/r),t*i.NumberUtils.sin(e/r))}}]),s}();i.Point=t,i.$TempPoint=new t}(math||(math={})),function(t){var e=function(){function s(){_classCallCheck(this,s)}return _createClass(s,null,[{key:"isNumber",value:function(t){return"number"==typeof t&&!isNaN(t)}},{key:"sin",value:function(t){var e=Math.floor(t),i=e+1,n=s.sinInt(e);return e==t?n:(t-e)*s.sinInt(i)+(i-t)*n}},{key:"sinInt",value:function(t){return(t%=360)<0&&(t+=360),egret_sin_map[t]}},{key:"cos",value:function(t){var e=Math.floor(t),i=e+1,n=s.cosInt(e);return e==t?n:(t-e)*s.cosInt(i)+(i-t)*n}},{key:"cosInt",value:function(t){return(t%=360)<0&&(t+=360),egret_cos_map[t]}}]),s}();t.NumberUtils=e}(math||(math={}));for(var core,display,egret_sin_map={},egret_cos_map={},DEG_TO_RAD=Math.PI/180,NumberUtils_i=0;NumberUtils_i<360;NumberUtils_i++)egret_sin_map[NumberUtils_i]=Math.sin(NumberUtils_i*DEG_TO_RAD),egret_cos_map[NumberUtils_i]=Math.cos(NumberUtils_i*DEG_TO_RAD);egret_sin_map[90]=1,egret_cos_map[90]=0,egret_sin_map[180]=0,egret_cos_map[180]=-1,egret_sin_map[270]=-1,egret_cos_map[270]=0,Function.prototype.bind||(Function.prototype.bind=function(t){"function"!=typeof this&&console.error(1029);var e=Array.prototype.slice.call(arguments,1),i=this,n=function(){},s=function(){return i.apply(this instanceof n&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return n.prototype=this.prototype,s.prototype=new n,s}),function(t){!function(t){var i=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"setFont",value:function(t){}}],[{key:"instance",get:function(){return this._instance||(1===GlobalData.CtxType?this._instance=new e:this._instance=new n),this._instance}}]),t}();t.Font=i;var e=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _inherits(e,i),_createClass(e,[{key:"setFont",value:function(t){var e=GlobalData.Ctx1;e.font=t,e.save()}}]),e}();t.FontCanvas=e;var n=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _inherits(e,i),e}();t.FontWebGL=n}(t.base||(t.base={}))}(core||(core={})),function(t){var e,i;e=t.base||(t.base={}),i=function(){function i(){_classCallCheck(this,i);var t=wx.createCanvas(),e=t.getContext("webgl");e?this.initWebGl(e):this.initCanvas(t)}return _createClass(i,[{key:"initWebGl",value:function(t){GlobalData.Ctx0=t}},{key:"initCanvas",value:function(t){var e=t.getContext("2d");GlobalData.Ctx1=e,GlobalData.CtxType=1}}]),i}(),e.Init=i}(core||(core={})),function(e){var t,u,i;t=e.component||(e.component={}),u=e.Stage,i=function(t){function i(t){_classCallCheck(this,i);var e=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return e._img=new Image,e._img.src=t,e._img.onload=e.onLoad,e}return _inherits(i,e.DisplayObject),_createClass(i,[{key:"onLoad",value:function(){this.width=void 0===this.width?this._img.width:this.width,this.height=void 0===this.height?this._img.height:this.height}},{key:"renderSelf",value:function(){var t=u.viewport,e=this._viewport;if(t.containsRect(e))this.drawImage(0,0,e.width,e.height,e.x,e.y,e.width,e.height);else{var i=void 0,n=void 0,s=void 0,r=void 0,a=void 0,h=void 0,o=void 0,c=void 0;e.left<t.left?(i=t.left-e.left,a=t.left,s=o=e.right-t.left):(i=0,a=e.x,s=o=e.width),e.top<t.top?(n=t.top-e.top,h=t.top,r=c=e.bottom-t.top):(n=0,h=e.y,r=c=e.height),e.right>t.right&&(s=o=t.right-e.left),e.bottom>t.bottom&&(r=c=t.bottom-e.top),this.drawImage(i,n,s,r,a,h,o,c)}}},{key:"drawImage",value:function(t,e,i,n,s,r,a,h){GlobalData.Ctx1.drawImage(this._img,t,e,i,n,s,r,a,h)}}]),i}(),t.VImage=i}(display||(display={})),function(t,e){var i=e();t&&t.Vejay||(("undefined"!=typeof global?global:"undefined"!=typeof window?window:this).Vejay=i,"object"==typeof exports&&"object"==typeof module?module.exports=i:"function"==typeof define&&define.amd?define(["Vejay"],e):"object"==typeof exports?exports.Vejay=i:t.Vejay=i)}(this,function(){return Vejay});